学习笔记

---
### 本周作业

#### 第 3 课作业实践
1. 使用 GCLogAnalysis.java 自己演练一遍串行/并行/CMS/G1的案例。 
2. 使用压测工具(wrk或sb)，演练gateway-server-0.0.1-SNAPSHOT.jar 示例。 
3. (选做)如果自己本地有可以运行的项目，可以按照2的方式进行演练。
根据上述自己对于1和2的演示，写一段对于不同 GC 的总结，提交到 Github。
如何查看/分析不同 GC 配置下的日志信息? 各种 GC 有什么特点和使用场景?

#### 第四节课作业实践
1. (可选)运行课上的例子，以及 Netty 的例子，分析相关现象。
2. 写一段代码，使用 HttpClient 或 OkHttp 访问 http://localhost:8801，代码提交到 Github。

---

问题1:线程池为什么创建了40个线程？
服务器通信过程中，存在两种类型操作:
- CPU 计算/业务处理
- IO 操作与等待/网络、磁盘、数据库

典型应用类型
- CPU密集型
- IO密集型：
   - B/S服务器：读磁盘/访问数据库



线程增多了，管理成本就增高，上下文切换就变多了。



socket的现有几个问题
1. 单线程时，有大量的等待，导致CPU使用率不高
2. 多个线程处理问题，导致了线程之间的竞争
3. 再底层，socket操作比我们想象的要复杂，内容需要从用户空间复制到内核空间才能被socket使用

### 通信模型
通信模式
- 同步
- 异步

线程处理模式
- 阻塞
- 非阻塞

#### 五种IO模型
基本上都是同步的。

同步非阻塞


epoll

### IO模型 - 01
阻塞IO
- 线程的问题
- 用户态和内核态数据拷贝
导致性能和并发都不高

### IO模型 - 04(线程池->EDA->SEDA)

EDA：
线程导致吞吐量劣化的问题：Event Handler。可以解决吞吐量问题，但是无法解决延迟的问题

SEDA：分阶段的事件驱动架构。多级缓冲模型。 延迟提升一部分